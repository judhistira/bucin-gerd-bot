# GERD Meal Reminder Bot - Dokumentasi Lengkap (External Cron Edition)

## Deskripsi
Bot Discord yang mengingatkan penderita GERD untuk makan teratur dengan rekomendasi makanan berdasarkan cuaca dan waktu. Bot ini menggunakan Google Gemini API, OpenWeatherMap, dan di-deploy di Vercel. Penjadwalan ditangani oleh layanan cron job eksternal.

## Fitur Utama
1. Pengingat makan terjadwal via webhook yang dipanggil cron job eksternal.
2. Rekomendasi makanan berdasarkan cuaca dan waktu.
3. Pesan penyemangat untuk makan teratur.
4. Personalisasi pesan menggunakan Google Gemini.
5. Dioptimalkan untuk deployment di Vercel.

## Teknologi yang Digunakan
- Node.js
- Discord.js
- Google Gemini API (gemini-1.5-flash)
- OpenWeatherMap API
- Express.js (untuk endpoint webhook)
- Layanan Cron Job Eksternal (contoh: cron-job.org)

## File yang Dibuat
1. index.js - File utama bot dan serverless function (webhook endpoint).
2. .env - File konfigurasi environment lokal.
3. package.json - Dependensi dan script.
4. README.md - Dokumentasi.
5. vercel.json - Konfigurasi deployment untuk Vercel.
6. .gitignore - File yang diabaikan.
7. test-reminder.js - Script untuk testing lokal.

## Konfigurasi Environment Variables
- DISCORD_TOKEN: Token bot Discord
- GEMINI_API_KEY: API key Google Gemini
- OPENWEATHER_API_KEY: API key OpenWeatherMap
- CHANNEL_ID: ID channel Discord tujuan
- LOCATION: Lokasi untuk data cuaca (default: "Jatibarang, ID")

## Cara Kerja
1. Layanan cron job eksternal memanggil endpoint webhook `https://<nama-app-anda>.vercel.app/gerd-reminder` sesuai jadwal yang ditentukan.
2. Panggilan tersebut memicu serverless function di `index.js`.
3. Bot mengambil data cuaca dari OpenWeatherMap.
4. Menggunakan Google Gemini untuk membuat rekomendasi makanan dan pesan penyemangat.
5. Menggabungkan semua informasi menjadi pesan yang personal dan menarik.
6. Mengirim pesan ke channel Discord yang ditentukan.

## Deployment
### Lokal (untuk development):
- Gunakan `npm run test-reminder` untuk menjalankan tes pengiriman pesan secara manual.

### Vercel (untuk produksi):
- Cukup lakukan `git push` ke repositori yang terhubung dengan Vercel.
- Vercel akan secara otomatis men-deploy bot.
- Pastikan semua Environment Variables sudah diatur di dashboard Vercel.
- Atur layanan cron job eksternal untuk memanggil URL webhook Anda.

## Testing
- Gunakan `npm run test-reminder` untuk menguji fungsi pengiriman pesan secara langsung, tanpa perlu menjalankan server. Skrip ini akan login, mengirim satu pesan, lalu keluar.

## Catatan Penting
- Penjadwalan sepenuhnya diatur oleh layanan cron job eksternal.
- File `vercel.json` tidak lagi berisi konfigurasi `crons`.
